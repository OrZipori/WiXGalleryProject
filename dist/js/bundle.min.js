!function(t){function a(){if(t("#controllers").length&&(t("#controllers a").unbind(),t("#controllers").remove()),o>1){n.after("<div class='clear'></div><div id='controllers'></div>");var a="<a href='javascript:void(0);' id='next'><img src='img/next.png'/></a>";a+="<a href='javascript:void(0);' id='prev'><img src='img/prev.png'/></a>",t("#controllers").html(a),t("#controllers #prev").fadeOut("fast"),t("#controllers #next").on("click",function(){l++,t("#controllers #prev").fadeIn("fast"),l==o-1&&t("#controllers #next").fadeOut("fast"),r()}),t("#controllers #prev").on("click",function(){l--,t("#controllers #next").fadeIn("fast"),0==l&&t("#controllers #prev").fadeOut("fast"),r()})}}function r(){var a="";n.empty(),f[l].forEach(function(t){"self"!=t.img&&t.img||(t.img="img/ph.png"),a+="<div class='image'>",a+="<a href = '"+t.url+"'><img src='"+t.img+"'/></a>",a+="<span>"+t.title+"</span></div>"}),n.html(a),t(".image").hover(function(){t(this).find("span").fadeIn("fast")},function(){t(this).find("span").fadeOut("fast")})}function e(t){o=Math.floor(t.data.children.length/i),f=[];var a,r,e=[],n=t.data.children;for(a=0;a<o;++a){for(var l=0;l<i;++l)r=a*i+l,(s={}).url=n[r].data.url,s.img=n[r].data.thumbnail,s.title=n[r].data.title,e.push(s);f.push(e),e=[]}var d=t.data.children.length%i;for(a=0;a<d;++a){var s={};r=i*o+a,s.url=n[a].data.url,s.img=n[a].data.thumbnail,s.title=n[a].data.title,e.push(s)}f.push(e),t.data.children.length%i>0&&o++}var n,l,i,o,f=[];t.fn.gallery=function(o,f){return n=t(this[0]),i=f,l=0,e(o),a(),r(),this}}(jQuery),$(document).ready(function(){function t(){$("#loader").fadeOut("fast"),$("#gallery").html("<h1>Error please try again</h1>")}reddit.hot("cats").limit(35).fetch(function(t){$("#gallery").gallery(t,9),$("#loader").fadeOut("fast")}),$("#formReddit").on("submit",function(a){a.preventDefault();var r=$("#subreddit").val();$("#loader").fadeIn("fast"),reddit.hot(r).limit(35).fetch(function(a){a.error&&t(),$("#gallery").gallery(a,9),$("#loader").fadeOut("fast")},function(a){t(),$("#loader").fadeOut("fast")})})});
